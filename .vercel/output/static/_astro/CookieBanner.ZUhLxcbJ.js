import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as o}from"./index.Cd_vQiNd.js";const g=[{id:"necessary",name:"Cookies necesarias",description:"Imprescindibles para el funcionamiento del sitio. No se pueden desactivar.",required:!0},{id:"analytics",name:"Cookies de an谩lisis",description:"Nos ayudan a entender c贸mo usas el sitio para mejorarlo (Google Analytics).",required:!1},{id:"marketing",name:"Cookies de marketing",description:"Permiten mostrarte anuncios relevantes en otras plataformas (Meta, Google Ads).",required:!1},{id:"preferences",name:"Cookies de preferencias",description:"Guardan tus preferencias como idioma o configuraci贸n de sesi贸n.",required:!1}],h="1.0.0",b="cookie_consent";function N(){if(typeof window>"u")return null;try{const s=localStorage.getItem(b);if(!s)return null;const a=JSON.parse(s);return a.version!==h?null:a}catch{return null}}function v(s){typeof window>"u"||(localStorage.setItem(b,JSON.stringify(s)),window.dispatchEvent(new CustomEvent("cookieConsentUpdate",{detail:s})))}function p(s){typeof window>"u"||(s.analytics?window.gtag?.("consent","update",{analytics_storage:"granted"}):window.gtag?.("consent","update",{analytics_storage:"denied"}),s.marketing?(window.gtag?.("consent","update",{ad_storage:"granted",ad_personalization:"granted",ad_user_data:"granted"}),window.fbq?.("consent","grant")):(window.gtag?.("consent","update",{ad_storage:"denied",ad_personalization:"denied",ad_user_data:"denied"}),window.fbq?.("consent","revoke")),s.preferences?window.gtag?.("consent","update",{functionality_storage:"granted",personalization_storage:"granted"}):window.gtag?.("consent","update",{functionality_storage:"denied",personalization_storage:"denied"}))}function C(){const[s,a]=o.useState(null),[r,c]=o.useState(!1);o.useEffect(()=>{const i=N();a(i),c(!0),i&&p(i)},[]);const l=o.useCallback(i=>{const d={necessary:!0,analytics:i.analytics??!1,marketing:i.marketing??!1,preferences:i.preferences??!1,timestamp:new Date().toISOString(),version:h};a(d),v(d),p(d)},[]);return{consent:s,isLoaded:r,updateConsent:l}}function S({privacyPolicyUrl:s="/privacidad",cookiePolicyUrl:a="/cookies"}){const{consent:r,isLoaded:c,updateConsent:l}=C(),[i,d]=o.useState(!1),[m,t]=o.useState({analytics:!1,marketing:!1,preferences:!1});if(!c||r)return null;const u=()=>{l({analytics:!0,marketing:!0,preferences:!0})},x=()=>{l({analytics:!1,marketing:!1,preferences:!1})},k=()=>{l(m)},j=n=>{t(f=>({...f,[n]:!f[n]}))};return e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-[9999] animate-fade-in",role:"dialog","aria-label":"Configuraci贸n de cookies","aria-describedby":"cookie-description",children:e.jsx("div",{className:"bg-white border-t border-gray-200 shadow-lg",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-6",children:[!i&&e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-lg font-bold text-[#0B0D73] mb-2",children:" Usamos cookies"}),e.jsxs("p",{id:"cookie-description",className:"text-sm text-[#475569]",children:["Utilizamos cookies para mejorar tu experiencia, analizar el tr谩fico y personalizar contenido. Puedes aceptar todas, rechazarlas o personalizar tu elecci贸n."," ",e.jsx("a",{href:a,className:"text-[#6C08B6] hover:underline",target:"_blank",rel:"noopener noreferrer",children:"M谩s informaci贸n"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[e.jsx("button",{onClick:()=>d(!0),className:"px-4 py-2.5 text-sm font-medium text-[#475569] border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Personalizar"}),e.jsx("button",{onClick:x,className:"px-4 py-2.5 text-sm font-medium text-[#475569] border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Solo necesarias"}),e.jsx("button",{onClick:u,className:"px-6 py-2.5 text-sm font-medium text-white bg-gradient-to-r from-[#FC31E6] to-[#6C08B6] rounded-lg hover:opacity-90 transition-opacity shadow-md",children:"Aceptar todas"})]})]}),i&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-[#0B0D73]",children:"Configuraci贸n de cookies"}),e.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Cerrar configuraci贸n",children:e.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("p",{className:"text-sm text-[#475569] mb-4",children:"Selecciona qu茅 tipos de cookies quieres aceptar. Las cookies necesarias no se pueden desactivar ya que son imprescindibles para el funcionamiento del sitio."}),e.jsx("div",{className:"space-y-3 mb-6",children:g.map(n=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"pt-0.5",children:e.jsx("input",{type:"checkbox",id:`cookie-${n.id}`,checked:n.required||m[n.id]||!1,disabled:n.required,onChange:()=>!n.required&&j(n.id),className:"w-4 h-4 rounded border-gray-300 text-[#6C08B6] focus:ring-[#6C08B6] disabled:opacity-50"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{htmlFor:`cookie-${n.id}`,className:"font-medium text-[#334155] text-sm cursor-pointer",children:[n.name,n.required&&e.jsx("span",{className:"ml-2 text-xs text-gray-400",children:"(Obligatorias)"})]}),e.jsx("p",{className:"text-xs text-[#475569] mt-0.5",children:n.description})]})]},n.id))}),e.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:x,className:"px-4 py-2.5 text-sm font-medium text-[#475569] border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Rechazar todas"}),e.jsx("button",{onClick:k,className:"px-4 py-2.5 text-sm font-medium text-[#6C08B6] border border-[#6C08B6] rounded-lg hover:bg-[#6C08B6]/5 transition-colors",children:"Guardar selecci贸n"}),e.jsx("button",{onClick:u,className:"px-6 py-2.5 text-sm font-medium text-white bg-gradient-to-r from-[#FC31E6] to-[#6C08B6] rounded-lg hover:opacity-90 transition-opacity shadow-md",children:"Aceptar todas"})]}),e.jsxs("p",{className:"text-xs text-gray-400 mt-4",children:['Puedes cambiar tu configuraci贸n en cualquier momento desde el enlace "Configuraci贸n de cookies" en el pie de p谩gina. Consulta nuestra'," ",e.jsx("a",{href:s,className:"underline hover:text-[#6C08B6]",children:"Pol铆tica de Privacidad"})," ","y"," ",e.jsx("a",{href:a,className:"underline hover:text-[#6C08B6]",children:"Pol铆tica de Cookies"}),"."]})]})]})})})}function B(){const[s,a]=o.useState(!1),{consent:r,updateConsent:c}=C(),[l,i]=o.useState({});if(o.useEffect(()=>{r&&i({analytics:r.analytics,marketing:r.marketing,preferences:r.preferences})},[r]),!r)return null;const d=()=>{c(l),a(!1)},m=t=>{i(u=>({...u,[t]:!u[t]}))};return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>a(!0),className:"text-gray-400 hover:text-[#FC31E6] transition-colors text-sm",children:"Configuraci贸n de cookies"}),s&&e.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-label":"Configuraci贸n de cookies",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>a(!1)}),e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-xl max-w-lg w-full p-6 animate-scale-in",children:[e.jsx("button",{onClick:()=>a(!1),className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full","aria-label":"Cerrar",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h2",{className:"text-xl font-bold text-[#0B0D73] mb-4",children:"Configuraci贸n de cookies"}),e.jsx("div",{className:"space-y-3 mb-6",children:g.map(t=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:`settings-${t.id}`,checked:t.required||l[t.id]||!1,disabled:t.required,onChange:()=>!t.required&&m(t.id),className:"mt-0.5 w-4 h-4 rounded border-gray-300 text-[#6C08B6] focus:ring-[#6C08B6]"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`settings-${t.id}`,className:"font-medium text-[#334155] text-sm cursor-pointer",children:t.name}),e.jsx("p",{className:"text-xs text-[#475569] mt-0.5",children:t.description})]})]},t.id))}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>a(!1),className:"flex-1 px-4 py-2.5 text-sm font-medium text-[#475569] border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),e.jsx("button",{onClick:d,className:"flex-1 px-4 py-2.5 text-sm font-medium text-white bg-gradient-to-r from-[#FC31E6] to-[#6C08B6] rounded-lg",children:"Guardar cambios"})]})]})]})]})}export{B as CookieSettingsButton,S as default};
